import{h as p,j as l,c as g}from"./index.e1f24323.js";import{u as r}from"./useStorage.a85a7265.js";const j=p("sets",()=>{const s=l(r("setsList")||[]),n=l({});function i(e,t){r("sets.cards."+e,t)}async function u(e){const t=r("sets.cards."+e);if(t){n.value[e]=t;return}}var o=e=>{const t=typeof e=="string"?n.value[e]:e;return Object.keys(t).length};const a=g(()=>Object.values(n.value).reduce((e,t)=>e+=o(t),0));function f(e){return JSON.stringify(n.value[e])}function v(e,t){const c=typeof t=="string"?JSON.parse(t):t;n.value[e]=c,s.value.includes(e)||(s.value.push(e),r("setsList",s.value)),i(e,c)}function S(e){delete n.value[e],s.value=s.value.filter(t=>t!==e),r("sets.cards."+e,null),r("setsList",s.value)}function d(){s.value.forEach(e=>u(e))}return{setsList:s,sets:n,loadSet:u,getSetCardsLength:o,allSetCardsLength:a,exportSet:f,importSet:v,deleteSet:S,onRegister:d}});export{j as u};
