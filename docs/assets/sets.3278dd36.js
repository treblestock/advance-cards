import{i as S,o as a,c as l,a as d,_ as p,f as v,u as c,d as m,b as _,w as u,g as b,h as C,t as g,n as I,j as f,k as N,l as k,v as M,T as B,F as z,r as D}from"./index.b313c226.js";import{u as T}from"./useUpload.d25a7398.js";import{M as V}from"./upload.8c4051c6.js";import{u as h,a as $}from"./setsCards.12169492.js";function R(e,s){return!e||!s?0:Object.keys(e).reduce((t,n)=>S(s[n])?++t:t,0)}const E={xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",version:"1.0",viewBox:"0 0 30 30"},L=d("path",{d:"M22 1.6c-1.1 1.3-.9 2 1.8 4.6 2.6 2.7 3.3 2.9 4.6 1.8 2.1-1.7 2-4.3-.2-6.3-2.3-2.1-4.6-2.2-6.2-.1zM10.2 13.3C4.4 19.1 1.6 22.7.9 25.4c-.6 2.1-.8 4-.6 4.3.3.2 2.2 0 4.3-.6 2.8-.8 6.2-3.4 12.2-9.4l8.2-8.3-3.3-3.2L18.4 5l-8.2 8.3z"},null,-1),U=[L];function F(e,s){return a(),l("svg",E,U)}const W={render:F};const j={__name:"Edit",props:{},setup(e){return(s,t)=>(a(),v(c(W),{class:"icon"}))}},A=p(j,[["__scopeId","data-v-6e2ea695"]]),H={xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",version:"1.0",viewBox:"0 0 30 30"},O=d("path",{d:"M10 1.5C10 2.6 11.2 3 15 3s5-.4 5-1.5S18.8 0 15 0s-5 .4-5 1.5zM3 6.5C3 7.7 5 8 15 8s12-.3 12-1.5C27 5.2 25 5 15 5S3 5.2 3 6.5zM5.4 14.6c.3 2.6.6 6.9.6 9.5V29h18v-5.8c0-3.1.3-7.4.6-9.5l.7-3.7H4.7l.7 4.6zm7.6 4.9c0 3.7-.4 6.5-1 6.5s-1-2.8-1-6.5.4-6.5 1-6.5 1 2.8 1 6.5zm6 0c0 3.7-.4 6.5-1 6.5s-1-2.8-1-6.5.4-6.5 1-6.5 1 2.8 1 6.5z"},null,-1),q=[O];function G(e,s){return a(),l("svg",H,q)}const J={render:G};const Q={__name:"Delete",props:{},setup(e){return(s,t)=>(a(),v(c(J),{class:"icon"}))}},K=p(Q,[["__scopeId","data-v-c65f16b6"]]);const P={__name:"Upload",props:{},setup(e){return(s,t)=>(a(),v(c(V),{class:"icon"}))}},X=p(P,[["__scopeId","data-v-0c1c8b8b"]]),Y={xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",version:"1.0",viewBox:"0 0 30 30"},Z=d("path",{d:"M12 6.5c0 5.8-.2 6.5-2 6.5-3 0-2.4 2.2 1.5 6l3.5 3.4 3.5-3.4c3.9-3.8 4.5-6 1.5-6-1.8 0-2-.7-2-6.5V0h-6v6.5z"},null,-1),ee=d("path",{d:"m1.2 25.2.3 4.3h27l.3-4.3c.3-3.7.1-4.2-1.7-4.2-1.6 0-2.1.6-2.1 2.5V26H5v-2.5c0-1.9-.5-2.5-2.1-2.5-1.8 0-2 .5-1.7 4.2z"},null,-1),te=[Z,ee];function se(e,s){return a(),l("svg",Y,te)}const oe={render:se};const ne={__name:"Download",props:{},setup(e){return(s,t)=>(a(),v(c(oe),{class:"icon"}))}},_e=p(ne,[["__scopeId","data-v-2d48dcd5"]]);const ae={class:"set-toolbar"},ce={__name:"SetToolbar",props:{},emits:["update","download","delete","edit"],setup(e,{emit:s}){return(t,n)=>{const i=m("Btn");return a(),l("div",ae,[_(i,{class:"set-toolbar__delete set-toolbar__btn _danger",onClick:n[0]||(n[0]=r=>t.$emit("delete"))},{default:u(()=>[_(K,{class:"set-toolbar__btn-icon"})]),_:1}),_(i,{class:"set-toolbar__updalod set-toolbar__btn",onClick:n[1]||(n[1]=r=>t.$emit("update"))},{default:u(()=>[_(X,{class:"set-toolbar__btn-icon"})]),_:1}),_(i,{class:"set-toolbar__download set-toolbar__btn",onClick:n[2]||(n[2]=r=>t.$emit("download"))},{default:u(()=>[_(_e,{class:"set-toolbar__btn-icon"})]),_:1}),_(i,{class:"set-toolbar__edit set-toolbar__btn",onClick:n[3]||(n[3]=r=>t.$emit("edit"))},{default:u(()=>[_(A,{class:"set-toolbar__btn-icon"})]),_:1})])}}},de=p(ce,[["__scopeId","data-v-4e37174e"]]);const re={class:"set-widget"},ie={class:"set-widget__row"},le={class:"set-widget__info set-info"},pe={class:"set-info__name"},ue={class:"set-info__cards"},ve={__name:"SetWidget",props:{setName:{type:String,required:!0}},setup(e){const s=e,t=h(),n=$(),i=b(()=>R(t.sets[s.setName],n.sets[s.setName])),r=C(!1);return(w,o)=>{const y=m("Btn");return a(),l("div",re,[d("div",ie,[d("div",le,[d("div",pe,g(e.setName),1),d("div",ue," to revise today: "+g(c(i)),1)]),_(y,{class:I(["set-toolbar-toggler set-info__toolbar-toggler",{_active:r.value}]),onClick:o[0]||(o[0]=f(()=>r.value=!r.value,["prevent"]))},null,8,["class"])]),d("div",{class:"set-widget__row",onClick:o[5]||(o[5]=f(()=>{},["prevent"]))},[_(B,{name:"slide-down"},{default:u(()=>[N(_(de,{class:"set-widget__toolbar set-toolbar",onDownload:o[1]||(o[1]=()=>c(k)(e.setName,c(t).exportSet(e.setName))),onUpdate:o[2]||(o[2]=()=>c(T)({onload:x=>c(t).importSet(e.setName,x.data)})),onEdit:o[3]||(o[3]=()=>w.$navigate({name:"newSetManualForm",params:{setName:e.setName}})),onDelete:o[4]||(o[4]=()=>c(t).deleteSet(e.setName))},null,512),[[M,r.value]])]),_:1})])])}}},me=p(ve,[["__scopeId","data-v-16799e6f"]]);const we={class:"sets-page"},ge={class:"sets-page__sets-list"},fe={class:"sets-page__new-set"},be={__name:"sets",props:{},setup(e){const s=h();$();const t=b(()=>s.setsList);return(n,i)=>{const r=m("AppLink"),w=m("RouterView");return a(),l("div",we,[d("div",ge,[(a(!0),l(z,null,D(c(t),o=>(a(),v(r,{to:{name:"set",params:{setName:o}}},{default:u(()=>[_(me,{setName:o},null,8,["setName"])]),_:2},1032,["to"]))),256))]),d("div",fe,[_(w)])])}}},Se=p(be,[["__scopeId","data-v-e58c631e"]]);export{Se as default};
