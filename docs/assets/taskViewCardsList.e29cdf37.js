import{u as I}from"./task.5bbd4fe6.js";import{_ as V,G as S,h as m,o as i,c,a as h,b as p,w as k,e as u,F as C,r as q,d as M,t as A,k as R,u as E,B as b}from"./index.15cd588f.js";import"./setsCards.cfb7e34b.js";import"./stats.d1e9083e.js";const D={mounted(l,d){d.value&&(console.log("added..."),l.classList.add(d.arg))}};const F=["data-card-ind"],P=["data-card-ind"],z={__name:"taskViewCardsList",props:{setName:{type:String,required:!0}},setup(l){const d=l,r=I(),L=20,_=30;S(()=>{r.setName=d.setName,r.createTask(),f(_)});const n=m([]);function f(e){const t=e?Math.min(r.toRevise.size,e):r.toRevise.size;n.value=n.value.filter(a=>a);const s=n.value.length,o=t-s;if(!(o<1)){n.value.length=Math.max(s,t);for(let a=0;a<o;a){const w=r.currentCard;if(n.value.includes(w)){r.iterateTask();continue}a++,n.value[s+a]=w,r.iterateTask()}}}function g(e){const t=e.target,s=+t.dataset.cardInd;!Number.isInteger(s)||(t.classList.contains("answer")&&N(t),t.classList.contains("btn")&&x(s))}const v=m(!1);function N(e){e.classList.remove("_hidden")}function T(){v.value=!0,document.querySelectorAll(".answer").forEach(e=>e.classList.remove("_hidden"))}function x(e){const t=y(e);t.isCorrect&&(n.value[e]=null),B(t),n.value.filter(s=>s).length<L&&f(_)}function y(e){const t=n.value[e];return{isCorrect:!0,time:Date.now(),setName:r.setName,card:t}}function B(e){r.onAnswer(e)}return(e,t)=>{const s=M("Btn");return i(),c("div",null,[h("div",{class:"task",onPointerup:g},[p(s,{onClick:T},{default:k(()=>[u("show all answers")]),_:1}),(i(!0),c(C,null,q(n.value,(o,a)=>(i(),c(C,{key:(o==null?void 0:o.question)||a},[o?(i(),c("div",{key:0,class:"task__row task-row",ref_for:!0,ref:"cardsHtml"},[h("div",{class:"task-row__question","data-card-ind":a},A(o.question),9,F),R((i(),c("div",{class:"task-row__answer answer","data-card-ind":a},[u(A(o.answer),1)],8,P)),[[E(D),!v.value,"_hidden"]]),p(s,{class:"btn","data-card-ind":a},{default:k(()=>[u("\u2713")]),_:2},1032,["data-card-ind"])],512)):b("",!0)],64))),128))],32)])}}},W=V(z,[["__scopeId","data-v-4d5e6143"]]);export{W as default};
