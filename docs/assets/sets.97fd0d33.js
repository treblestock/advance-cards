import{i as C,o as c,c as p,a,_ as l,f as v,u as d,d as w,b as _,w as u,g as f,h as N,t as g,n as I,j as b,T as k,k as M,l as B,v as z,F as D,r as T}from"./index.15cd588f.js";import{u as V}from"./useUpload.d25a7398.js";import{M as R}from"./upload.f3ec2c77.js";import{u as h,a as $}from"./setsCards.cfb7e34b.js";function E(e,s){return!e||!s?0:(Array.isArray(e)?e:Object.keys(e)).reduce((o,i)=>C(s[i])?++o:o,0)}const L={xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",version:"1.0",viewBox:"0 0 30 30"},U=a("path",{d:"M22 1.6c-1.1 1.3-.9 2 1.8 4.6 2.6 2.7 3.3 2.9 4.6 1.8 2.1-1.7 2-4.3-.2-6.3-2.3-2.1-4.6-2.2-6.2-.1zM10.2 13.3C4.4 19.1 1.6 22.7.9 25.4c-.6 2.1-.8 4-.6 4.3.3.2 2.2 0 4.3-.6 2.8-.8 6.2-3.4 12.2-9.4l8.2-8.3-3.3-3.2L18.4 5l-8.2 8.3z"},null,-1),A=[U];function q(e,s){return c(),p("svg",L,A)}const F={render:q};const W={__name:"Edit",props:{},setup(e){return(s,t)=>(c(),v(d(F),{class:"icon"}))}},j=l(W,[["__scopeId","data-v-6e2ea695"]]),H={xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",version:"1.0",viewBox:"0 0 30 30"},O=a("path",{d:"M10 1.5C10 2.6 11.2 3 15 3s5-.4 5-1.5S18.8 0 15 0s-5 .4-5 1.5zM3 6.5C3 7.7 5 8 15 8s12-.3 12-1.5C27 5.2 25 5 15 5S3 5.2 3 6.5zM5.4 14.6c.3 2.6.6 6.9.6 9.5V29h18v-5.8c0-3.1.3-7.4.6-9.5l.7-3.7H4.7l.7 4.6zm7.6 4.9c0 3.7-.4 6.5-1 6.5s-1-2.8-1-6.5.4-6.5 1-6.5 1 2.8 1 6.5zm6 0c0 3.7-.4 6.5-1 6.5s-1-2.8-1-6.5.4-6.5 1-6.5 1 2.8 1 6.5z"},null,-1),G=[O];function J(e,s){return c(),p("svg",H,G)}const Q={render:J};const K={__name:"Delete",props:{},setup(e){return(s,t)=>(c(),v(d(Q),{class:"icon"}))}},P=l(K,[["__scopeId","data-v-c65f16b6"]]);const X={__name:"Upload",props:{},setup(e){return(s,t)=>(c(),v(d(R),{class:"icon"}))}},Y=l(X,[["__scopeId","data-v-0c1c8b8b"]]),Z={xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",version:"1.0",viewBox:"0 0 30 30"},ee=a("path",{d:"M12 6.5c0 5.8-.2 6.5-2 6.5-3 0-2.4 2.2 1.5 6l3.5 3.4 3.5-3.4c3.9-3.8 4.5-6 1.5-6-1.8 0-2-.7-2-6.5V0h-6v6.5z"},null,-1),te=a("path",{d:"m1.2 25.2.3 4.3h27l.3-4.3c.3-3.7.1-4.2-1.7-4.2-1.6 0-2.1.6-2.1 2.5V26H5v-2.5c0-1.9-.5-2.5-2.1-2.5-1.8 0-2 .5-1.7 4.2z"},null,-1),se=[ee,te];function oe(e,s){return c(),p("svg",Z,se)}const ne={render:oe};const _e={__name:"Download",props:{},setup(e){return(s,t)=>(c(),v(d(ne),{class:"icon"}))}},ae=l(_e,[["__scopeId","data-v-2d48dcd5"]]);const ce={class:"set-toolbar"},de={__name:"SetToolbar",props:{},emits:["update","download","delete","edit"],setup(e,{emit:s}){return(t,o)=>{const i=w("Btn");return c(),p("div",ce,[_(i,{class:"set-toolbar__delete set-toolbar__btn _danger",onClick:o[0]||(o[0]=r=>t.$emit("delete"))},{default:u(()=>[_(P,{class:"set-toolbar__btn-icon"})]),_:1}),_(i,{class:"set-toolbar__updalod set-toolbar__btn",onClick:o[1]||(o[1]=r=>t.$emit("update"))},{default:u(()=>[_(Y,{class:"set-toolbar__btn-icon"})]),_:1}),_(i,{class:"set-toolbar__download set-toolbar__btn",onClick:o[2]||(o[2]=r=>t.$emit("download"))},{default:u(()=>[_(ae,{class:"set-toolbar__btn-icon"})]),_:1}),_(i,{class:"set-toolbar__edit set-toolbar__btn",onClick:o[3]||(o[3]=r=>t.$emit("edit"))},{default:u(()=>[_(j,{class:"set-toolbar__btn-icon"})]),_:1})])}}},re=l(de,[["__scopeId","data-v-4e37174e"]]);const ie={class:"set-widget"},le={class:"set-widget__row"},ue={class:"set-widget__info set-info"},pe={class:"set-info__name"},ve={class:"set-info__cards"},me={__name:"SetWidget",props:{setName:{type:String,required:!0}},setup(e){const s=e,t=h(),o=$(),i=f(()=>E(t.sets[s.setName],o.sets[s.setName])),r=N(!1);return(m,n)=>{const y=w("Btn"),x=w("AppLink");return c(),v(x,{to:{name:"set",params:{setName:e.setName}}},{default:u(()=>[a("div",ie,[a("div",le,[a("div",ue,[a("div",pe,g(e.setName),1),a("div",ve," to revise today: "+g(d(i)),1)]),_(y,{class:I(["set-toolbar-toggler set-info__toolbar-toggler",{_active:r.value}]),onClick:n[0]||(n[0]=b(()=>r.value=!r.value,["prevent"]))},null,8,["class"])]),a("div",{class:"set-widget__row",onClick:n[5]||(n[5]=b(()=>{},["prevent"]))},[_(k,{name:"slide-down"},{default:u(()=>[M(_(re,{class:"set-widget__toolbar set-toolbar",onDownload:n[1]||(n[1]=()=>d(B)(e.setName,d(t).exportSet(e.setName))),onUpdate:n[2]||(n[2]=()=>d(V)({onload:S=>d(t).importSet(e.setName,S.data)})),onEdit:n[3]||(n[3]=()=>m.$navigate({name:"newSetManualForm",params:{setName:e.setName}})),onDelete:n[4]||(n[4]=()=>d(t).deleteSet(e.setName))},null,512),[[z,r.value]])]),_:1})])])]),_:1},8,["to"])}}},we=l(me,[["__scopeId","data-v-ddab8de7"]]);const ge={class:"sets-page"},be={class:"sets-page__sets-list"},fe={class:"sets-page__new-set"},he={__name:"sets",props:{},setup(e){const s=h();$();const t=f(()=>s.setsList);return(o,i)=>{const r=w("RouterView");return c(),p("div",ge,[a("div",be,[(c(!0),p(D,null,T(d(t),m=>(c(),v(we,{key:m,setName:m},null,8,["setName"]))),128))]),a("div",fe,[_(r)])])}}},Ce=l(he,[["__scopeId","data-v-4c13a5c3"]]);export{Ce as default};
