import{_ as F,h as w,g as y,A as M,d as C,o as u,c as d,a as c,b as r,F as E,r as L,w as V,e as g,u as R,j as S,B as T,t as j,C as A,D as O,E as $,f as H}from"./index.b313c226.js";import{u as P}from"./setsCards.12169492.js";const Y=o=>(O("data-v-49814a52"),o=o(),$(),o),z=["onSubmit"],G={class:"form__row form-row"},J=Y(()=>c("div",{class:"form__row form-row _label"},[c("div",null,"questions:"),c("div",null,"answers:")],-1)),K={key:0,class:"form__row form-row-placeholder"},Q={class:"form__row"},W={__name:"SetUpdateCreateForm",props:{setName:{type:String,required:!1}},setup(o){const a=o,m=w(),_=P(),x=[[]],i=w(a.setName),s=w(null);h();function h(e){s.value=a.setName?Object.entries(_.sets[e||a.setName]):x}const k=y(()=>a.setName?_.sets[a.setName]:{});M(k,e=>h());function b(){if(!i.value){alert("fill in set name");return}const e=q();a.setName?U(a.setName,e):I(i.value,e)}function q(){const e=s.value.filter(t=>t[0]&&t[1]);return Object.fromEntries(e)}function U(e,t){_.updateSet(e,t)}function I(e,t){_.createSet(e,t)}const B=y(()=>!s.value[s.value.length-1].length);function N(e){s.value.push([]);const t=s.value.length-1;A(()=>{m.value[t].querySelector(`[placeholder=${e}]`).focus()})}function D(e){s.value[e]=[],e!==s.value.length-1&&m.value[e].classList.add("_hidden")}return(e,t)=>{const n=C("Input"),f=C("Btn");return u(),d("div",null,[c("form",{class:"form",onSubmit:S(b,["prevent"])},[c("div",G,[r(n,{class:"form__set-name",placeholder:"set name",modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=l=>i.value=l)},null,8,["modelValue"])]),J,(u(!0),d(E,null,L(s.value,(l,p)=>(u(),d("div",{class:"form__row form-row",key:p,ref_for:!0,ref_key:"cardsHtml",ref:m},[r(n,{type:"text",class:"form-row__question",placeholder:"question",modelValue:l[0],"onUpdate:modelValue":v=>l[0]=v,"data-card-ind":p},null,8,["modelValue","onUpdate:modelValue","data-card-ind"]),r(n,{type:"text",class:"form-row__answer",placeholder:"answer",modelValue:l[1],"onUpdate:modelValue":v=>l[1]=v,"data-card-ind":p},null,8,["modelValue","onUpdate:modelValue","data-card-ind"]),r(f,{onClick:()=>D(p)},{default:V(()=>[g("\u2716")]),_:2},1032,["onClick"])]))),128)),R(B)?T("",!0):(u(),d("div",K,[r(n,{type:"text",class:"form-row__question",placeholder:"question",onFocus:t[1]||(t[1]=S(()=>N("question"),["prevent"]))}),r(n,{type:"text",class:"form-row__answer",placeholder:"answer",onFocus:t[2]||(t[2]=S(()=>N("answer"),["prevent"]))})])),c("div",Q,[r(f,{class:"form__submit",type:"submit"},{default:V(()=>[g(j(a.setName?"save changes":"create set"),1)]),_:1})])],40,z)])}}},X=F(W,[["__scopeId","data-v-49814a52"]]);const Z={class:"new-set-form"},ee={__name:"newSetManualForm",props:{setName:{type:String,required:!1}},setup(o){return(a,m)=>(u(),d("div",Z,[(u(),H(X,{class:"new-set-form",setName:o.setName,key:o.setName},null,8,["setName"]))]))}},se=F(ee,[["__scopeId","data-v-943a6561"]]);export{se as default};
